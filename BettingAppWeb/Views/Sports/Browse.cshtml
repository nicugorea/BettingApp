@model SportViewModel
@using BettingAppWeb.Shared;
@using BettingAppWeb.Models;
@{
    ViewBag.Title = "Browse";
    var SportsList = ViewData["SportsList"] as List<SportViewModel>;
}

<style>

    .table th {
        text-align: center;
    }

    .table td {
        text-align: center;
    }
</style>


<h2>Browse</h2>
@if (ManagerSingleton.Instance.AuthenticationManager.IsAdmin())
{

    using (Html.BeginForm("Browse", "Sports", FormMethod.Post, new { @role = "form" }))
    {
        <h3>Add new user</h3>
        <div class="form-group">

            @Html.TextBoxFor(m => m.Name, new
        {
            @class = "form-control",
            @placeholder = "Sport name"
        })
        </div>
        <div class="form-group">
            @Html.TextBoxFor(m => m.Description, new
        {
            @class = "form-control",
            @placeholder = "Description"
        })
        </div>
        <div class="form-group">
            @Html.TextBoxFor(m => m.EndTime, new
        {
            @type = "date",
            @class = "form-control"
        })
        </div>

        <div class="form-group">
            <input type="submit"
                   class="btn btn-primary btn-block"
                   value="Add User" />
        </div>

    }

}

<div class="center-block">
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Name</th>

                <th>Description</th>

                <th>Bets value</th>

                <th>End Date</th>
                @if (ManagerSingleton.Instance.AuthenticationManager.IsAdmin())
                {
                    <th>Actions</th>
                }
            </tr>

        </thead>
        <tbody>

            @{ foreach (var sport in SportsList)
                {
                    <tr>
                        <td>@sport.Name</td>

                        <td>@sport.Description</td>

                        <td>@sport.Value</td>

                        <td>@sport.EndTime</td>
                        @if (ManagerSingleton.Instance.AuthenticationManager.IsAdmin())
                        {
                            <td>
                                <a href="~/Sports/Edit"><i class="glyphicon glyphicon-edit"></i></a>
                                <a href="~/Sports/Delete"><i class="glyphicon glyphicon-trash"></i></a>
                            </td>
                        }

                    </tr>

                }

            }

        </tbody>

    </table>
</div>


